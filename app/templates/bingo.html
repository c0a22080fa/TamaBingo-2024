{% extends "base.html" %}

{% block title %}ビンゴページ{% endblock %}

{% block content %}
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>デジタルビンゴ - Enjoy Tama with Bingo</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bingo.css') }}">
</head>

<h1>ビンゴシート</h1>

<!-- カメラ起動ボタン -->
<button id="start-camera">カメラを起動する</button>

<!-- ビンゴシート -->
<div id="bingo-wrapper">
  <table id="bingo-table">
      {% for i in range(3) %}
      <tr>
          {% for j in range(3) %}
          <td id="cell-{{ i*3 + j }}" class="{{ 'checked' if bingo_sheet[i*3 + j] == 'True' else '' }}">
              {{ 'チェック済み' if bingo_sheet[i*3 + j] == 'True' else '未チェック' }}
          </td>
          {% endfor %}
      </tr>
      {% endfor %}
  </table>
</div>

<!-- JavaScriptファイルの読み込み -->
<script src="{{ url_for('static', filename='js/bingo.js') }}"></script>
<script>
    document.addEventListener("DOMContentLoaded", () => {
        const initialBingoSheet = {{ bingo_sheet | tojson | safe }};
        maintainBingoState(initialBingoSheet);
    });
</script>
{% endblock %}
